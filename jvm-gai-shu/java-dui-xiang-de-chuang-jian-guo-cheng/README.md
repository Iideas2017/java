# Java对象的创建过程

## 类的初始化与实例化

 在Java中，一个对象在可以被使用之前必须要被正确地初始化，这一点是Java规范规定的。在实例化一个对象时，JVM首先会检查相关类型是否已经加载并初始化，如果没有，则JVM立即进行加载并调用类构造器完成类的初始化。在类初始化过程中或初始化完毕后，根据具体情况才会去对类进行实例化。

### 一、Java对象创建时机 <a id="&#x4E00;java&#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x65F6;&#x673A;"></a>

 

### 二. Java 对象的创建过程 <a id="&#x4E8C;-java-&#x5BF9;&#x8C61;&#x7684;&#x521B;&#x5EFA;&#x8FC7;&#x7A0B;"></a>

 当一个对象被创建时，虚拟机就会为其分配内存来存放对象自己的实例变量及其从父类继承过来的实例变量\(即使这些从超类继承过来的实例变量有可能被隐藏也会被分配空间\)。**在为这些实例变量分配内存的同时，这些实例变量也会被赋予默认值\(零值\)。**在内存分配完成之后，Java虚拟机就会开始对新创建的对象按照程序猿的意志进行初始化。在Java对象初始化过程中，主要涉及三种执行对象初始化的结构，分别是 **实例变量初始化**、**实例代码块初始化** 以及 **构造函数初始化**。

1、实例变量初始化与实例代码块初始化

　　我们在定义（声明）实例变量的同时，还可以直接对实例变量进行赋值或者使用实例代码块对其进行赋值。如果我们以这两种方式为实例变量进行初始化，那么它们将在构造函数执行之前完成这些初始化操作。**实际上，如果我们对实例变量直接赋值或者使用实例代码块赋值，那么编译器会将其中的代码放到类的构造函数中去，并且这些代码会被放在对超类构造函数的调用语句之后\(还记得吗？Java要求构造函数的第一条语句必须是超类构造函数的调用语句\)，构造函数本身的代码之前。**

 Java是按照编程顺序来执行实例变量初始化器和实例初始化器中的代码的，并且不允许顺序靠前的实例代码块初始化在其后面定义的实例变量

